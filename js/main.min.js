!function(){var e={370:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}CanvasRenderingContext2D.prototype.roundRect=function(t,n,a,o,i,r,s){var c={upperLeft:0,upperRight:0,lowerLeft:0,lowerRight:0};if(void 0===s&&(s=!0),"object"===e(i))for(var u in i)c[u]=i[u];this.beginPath(),this.moveTo(t+c.upperLeft,n),this.lineTo(t+a-c.upperRight,n),this.quadraticCurveTo(t+a,n,t+a,n+c.upperRight),this.lineTo(t+a,n+o-c.lowerRight),this.quadraticCurveTo(t+a,n+o,t+a-c.lowerRight,n+o),this.lineTo(t+c.lowerLeft,n+o),this.quadraticCurveTo(t,n+o,t,n+o-c.lowerLeft),this.lineTo(t,n+c.upperLeft),this.quadraticCurveTo(t,n,t+c.upperLeft,n),this.closePath(),s&&this.stroke(),r&&this.fill()}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}!function(){"use strict";var e=function(e,t,n){var a=500/e-6,o=t*a+3+6*t,i=n*a+3+6*n;return{width:a,xStart:o,yStart:i,xEnd:t*a+3+6*t+a,yEnd:n*a+3+6*n+a,xText:o+a/2,yText:i+a/2}},t=function(e,t){var n=e.getBoundingClientRect(),a=500/document.getElementById("canvas").offsetWidth;return{mouseX:(t.clientX-n.left)*a,mouseY:(t.clientY-n.top)*a}},a=function(t,n,a,o){var i=e(n,a.x,a.y),r=i.width,s=i.xStart,c=i.yStart,u=i.xText,m=i.yText;t.lineWidth=2,t.strokeStyle="#df4f29",o&&(t.strokeStyle="#388f2c"),t.roundRect(s,c,r,r,{upperLeft:8,upperRight:8,lowerLeft:8,lowerRight:8}),t.font="40px serif",t.fillStyle="#df4f29",o&&(t.fillStyle="#388f2c"),t.textAlign="center",t.textBaseline="middle",t.fillText(a.n,u,m)},o=function(e){var t=e*e,n=new Array(t).fill(1).map((function(e,t){return e+t}));return n[t-1]="free",n},i=function(e,t){for(var n=t(e),a=[],o=0,i=0;i<e;i++){for(var r=[],s=0;s<e;s++)r.push({x:s,y:i,n:n[o]}),o+=1;a.push(r)}return a},r=[{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1}],s=function(e){var t="".concat(Math.floor(e/3600)).padStart(2,"0"),n="".concat(Math.floor(e%3600/60)).padStart(2,"0"),a="".concat(Math.floor(e%3600%60)).padStart(2,"0");return"".concat(t,":").concat(n,":").concat(a)},c=function(e,t,n,a,o,i){document.getElementById("gameSave").classList.add("active");var r={arr:e,exp:t,size:n,moves:a,timer:o,volume:i};localStorage.setItem("gameSave",JSON.stringify(r))},u=new Audio;n(370),function(){var e=document.createElement("header");e.className="header",document.getElementById("mainBody").append(e);var t=document.createElement("div");t.innerHTML='\n  <div class="score-top">\n  <span>Moves: </span>\n  <span id="gameScore">0</span>\n  <span>Time: </span>\n  <span id="gameTimer">00:00:00</span>\n  </div>\n  <div class="buttons-top">\n    <button id="gamePlay">Shuffle and play</button>\n    <button id="gamePause" class="active">Pause</button>\n    <button id="gameSave">Save</button>\n    <button id="gameResults">Results</button>\n    <button id="gameSound" class="active">Sound On</button>\n  </div>\n  ',document.getElementById("mainBody").append(t);var n=document.createElement("canvas");n.id="canvas",n.width="500",n.height="500",n.className="game-canvas",document.getElementById("mainBody").append(n);var a=document.createElement("div");a.className="buttons-bottom",a.innerHTML='\n    <button id="gameSize3">3x3</button>\n    <button id="gameSize4" class="active">4x4</button>\n    <button id="gameSize5">5x5</button>\n    <button id="gameSize6">6x6</button>\n    <button id="gameSize7">7x7</button>\n    <button id="gameSize8">8x8</button>\n  ',document.getElementById("mainBody").append(a);var o=document.createElement("div");o.className="modal modal-info",o.innerHTML='\n    <div class="modal__title modal-info__title"></div>\n    <button class="modal__button modal-info__button">Close</button>\n  ',document.getElementById("mainBody").append(o);var i=document.createElement("div");i.className="modal modal-results",i.innerHTML='\n    <div class="modal__title">Top 10 results</div>\n    <ul class="modal__table modal-result__table"></ul>\n    <button class="modal__button modal-results__button">Close</button>\n  ',document.getElementById("mainBody").append(i);var r=document.createElement("footer");r.className="footer",document.getElementById("mainBody").append(r)}(),document.querySelector(".modal-info__button").addEventListener("click",(function(){document.querySelector(".modal-info").classList.remove("active")})),document.querySelector(".modal-results__button").addEventListener("click",(function(){document.querySelector(".modal-results").classList.remove("active")}));var m=document.getElementById("gameTimer"),d=document.getElementById("canvas"),l=document.getElementById("gamePlay"),f=document.getElementById("gamePause"),v=document.getElementById("gameSave"),y=document.getElementById("gameResults"),p=document.getElementById("gameSize3"),g=document.getElementById("gameSize4"),b=document.getElementById("gameSize5"),S=document.getElementById("gameSize6"),E=document.getElementById("gameSize7"),L=document.getElementById("gameSize8"),x=document.getElementById("gameSound"),h=(u.src="./audio/sound.mp3",u.currentTime=0,u),T=[],B=[],I=4,k=0,z=0,_=!1,q=!1,w=!0,C=!0,R=!0,M=!1,N=1,O=0,H=0,P=!1,Y=!1,J=!1,X=!1;l.addEventListener("click",(function(){w&&F()})),f.addEventListener("click",(function(e){w&&q&&(e.target.classList.contains("active")?G():K())})),v.addEventListener("click",(function(e){w&&(e.target.classList.contains("active")?(document.getElementById("gameSave").classList.remove("active"),localStorage.removeItem("gameSave"),M=!1):(c(T,B,I,k,z,N),M=!0))})),y.addEventListener("click",(function(){return e=JSON.parse(localStorage.getItem("gameResults"))||r,console.log(e),document.querySelector(".modal-results").classList.add("active"),void(document.querySelector(".modal-result__table").innerHTML="\n    <li>\n      <span>Date</span>\n      <span>Time</span>\n      <span>Size</span>\n      <span>Moves</span>\n      <span>Timer</span>\n    </li>\n    ".concat(e.map((function(e){return"number"==typeof e.timer&&(e.timer=s(e.timer)),"\n        <li>\n          <span>".concat(e.date,"</span>\n          <span>").concat(e.time,"</span>\n          <span>").concat(e.size,"</span>\n          <span>").concat(e.moves,"</span>\n          <span>").concat(e.timer,"</span>\n        </li>\n      ")})).join("")));var e})),p.addEventListener("click",(function(){w&&(T=i(I=3,o),B=i(I,o),document.querySelector(".buttons-bottom .active").classList.remove("active"),p.classList.add("active"),W(),F())})),g.addEventListener("click",(function(){w&&(T=i(I=4,o),B=i(I,o),document.querySelector(".buttons-bottom .active").classList.remove("active"),g.classList.add("active"),W(),F())})),b.addEventListener("click",(function(){w&&(T=i(I=5,o),B=i(I,o),document.querySelector(".buttons-bottom .active").classList.remove("active"),b.classList.add("active"),W(),F())})),S.addEventListener("click",(function(){w&&(T=i(I=6,o),B=i(I,o),document.querySelector(".buttons-bottom .active").classList.remove("active"),S.classList.add("active"),W(),F())})),E.addEventListener("click",(function(){w&&(T=i(I=7,o),B=i(I,o),document.querySelector(".buttons-bottom .active").classList.remove("active"),E.classList.add("active"),W(),F())})),L.addEventListener("click",(function(){w&&(T=i(I=8,o),B=i(I,o),document.querySelector(".buttons-bottom .active").classList.remove("active"),L.classList.add("active"),W(),F())})),x.addEventListener("click",(function(){x.classList.contains("active")?(x.textContent="Sound Off",x.classList.remove("active"),h.volume=0,N=0):(x.textContent="Sound On",x.classList.add("active"),h.volume=1,N=1)}));var A=JSON.parse(localStorage.getItem("gameSave"));A&&A.arr&&A.exp&&A.size&&A.moves>=0&&A.timer>=0&&A.volume>=0?(T=A.arr,B=A.exp,I=A.size,k=A.moves,z=A.timer,N=A.volume,m.textContent=s(z),v.classList.add("active"),document.querySelector(".buttons-bottom .active").classList.remove("active"),document.getElementById("gameSize".concat(I)).classList.add("active"),M=!0,0==N&&(x.textContent="Sound Off",x.classList.remove("active"))):(T=i(I,o),B=i(I,o),F());var D=d.getContext("2d");setInterval((function(){return window.requestAnimationFrame((function(){return D.clearRect(0,0,d.width,d.height),T.map((function(e,t){e.map((function(e,n){"free"!==e.n&&(T[t][n].n==B[t][n].n?a(D,I,e,!0):a(D,I,e))}))})),M&&c(T,B,I,k,z,N),void(document.getElementById("gameScore").textContent=k)}))}),20),setInterval((function(){_&&(z+=1,m.textContent=s(z))}),1e3);var j=function(n){C=!1;var a=t(d,n),o=a.mouseX,i=a.mouseY;T.forEach((function(t,n){t.forEach((function(t,a){var r=e(I,a,n),s=r.width,c=r.xStart,u=r.yStart,m=r.xEnd,l=r.yEnd;if(P||Y||X||J||(H-i>3?P=!0:i-H>3?Y=!0:O-o>3?X=!0:o-O>3&&(J=!0)),T[n-1]&&T[n-1][a]&&"free"==T[n-1][a].n&&P){if(o>c&&o<m&&i>u-s&&i<l){var f=(H-i)/s;f<0&&(f=0),f>1&&(f=1),T[n][a].y=n-f,d.classList.add("hovered")}(o<c||o>m||i<u-s||i>l)&&(T[n][a].y=n,U())}if(T[n+1]&&T[n+1][a]&&"free"==T[n+1][a].n&&Y){if(o>c&&o<m&&i>u&&i<l+s){var v=(i-H)/s;v>1&&(v=1),v<0&&(v=0),T[n][a].y=n+v,d.classList.add("hovered")}(o<c||o>m||i<u||i>l+s)&&(T[n][a].y=n,U())}if(T[n][a-1]&&"free"==T[n][a-1].n&&X){if(o>c-s&&o<m&&i>u&&i<l){var y=(O-o)/s;y>1&&(y=1),y<0&&(y=0),T[n][a].x=a-y,d.classList.add("hovered")}(o<c-s||o>m||i<u||i>l)&&(T[n][a].x=a,U())}if(T[n][a+1]&&"free"==T[n][a+1].n&&J){if(o>c&&o<m+s&&i>u&&i<l){var p=(o-O)/s;p>.94&&(p=1),p<.06&&(p=0),T[n][a].x=a+p,d.classList.add("hovered")}(o<c||o>m+s||i<u||i>l)&&(T[n][a].x=a,U())}}))}))};function F(){w=!1,W(),B=i(I,o),T=i(I,o);var e=0,t=!1,n=function n(){var a=Math.ceil(4*Math.random());e+=1,t=!1;for(var o=0;o<I&&!t;o++)for(var i=0;i<I;i++){if(1==e&&"free"==T[o][i].n){T[o][i].n=T[o-1][i].n,T[o-1][i].n="free",t=!0;break}if(2==e&&"free"==T[o][i].n){T[o][i].n=T[o][i-1].n,T[o][i-1].n="free",t=!0;break}if(3==e&&"free"==T[o][i].n){T[o][i].n=T[o-1][i].n,T[o-1][i].n="free",t=!0;break}if(e>3&&1==a){if("free"==T[o][i].n&&T[o-1]&&T[o-1][i]&&T[o-1][i].n){T[o][i].n=T[o-1][i].n,T[o-1][i].n="free",t=!0;break}if("free"==T[o][i].n&&T[o][i+1]&&T[o][i+1].n){T[o][i].n=T[o][i+1].n,T[o][i+1].n="free",t=!0;break}if("free"==T[o][i].n&&T[o+1]&&T[o+1][i]&&T[o+1][i].n){T[o][i].n=T[o+1][i].n,T[o+1][i].n="free",t=!0;break}}if(e>3&&2==a){if("free"==T[o][i].n&&T[o][i+1]&&T[o][i+1].n){T[o][i].n=T[o][i+1].n,T[o][i+1].n="free",t=!0;break}if("free"==T[o][i].n&&T[o-1]&&T[o-1][i]&&T[o-1][i].n){T[o][i].n=T[o-1][i].n,T[o-1][i].n="free",t=!0;break}if("free"==T[o][i].n&&T[o][i-1]&&T[o][i-1].n){T[o][i].n=T[o][i-1].n,T[o][i-1].n="free",t=!0;break}}if(e>3&&3==a){if("free"==T[o][i].n&&T[o+1]&&T[o+1][i]&&T[o+1][i].n){T[o][i].n=T[o+1][i].n,T[o+1][i].n="free",t=!0;break}if("free"==T[o][i].n&&T[o][i-1]&&T[o][i-1].n){T[o][i].n=T[o][i-1].n,T[o][i-1].n="free",t=!0;break}if("free"==T[o][i].n&&T[o-1]&&T[o-1][i]&&T[o-1][i].n){T[o][i].n=T[o-1][i].n,T[o-1][i].n="free",t=!0;break}}if(e>3&&4==a){if("free"==T[o][i].n&&T[o][i-1]&&T[o][i-1].n){T[o][i].n=T[o][i-1].n,T[o][i-1].n="free",t=!0;break}if("free"==T[o][i].n&&T[o+1]&&T[o+1][i]&&T[o+1][i].n){T[o][i].n=T[o+1][i].n,T[o+1][i].n="free",t=!0;break}if("free"==T[o][i].n&&T[o][i+1]&&T[o][i+1].n){T[o][i].n=T[o][i+1].n,T[o][i+1].n="free",t=!0;break}}}setTimeout((function(){e<60&&n()}),50)};setTimeout((function(){return n()}),200),setTimeout((function(){w=!0,q=!0,G()}),3300)}function W(){_=!1,k=0,z=0,m.textContent="00:00:00",f.classList.add("active")}function G(){_=!0,f.classList.remove("active")}function K(){_=!1,l.classList.remove("active"),f.classList.add("active")}function Q(){k+=1,N&&h.play()}function U(){d.classList.remove("hovered"),document.removeEventListener("mousemove",j)}d.addEventListener("mousedown",(function(n){if(_){var a=t(d,n),o=a.mouseX,i=a.mouseY;O=o,H=i,T.forEach((function(t,n){t.forEach((function(t,a){var r=e(I,a,n),s=r.xStart,c=r.yStart,u=r.xEnd,m=r.yEnd;o>s&&o<u&&i>c&&i<m&&(T[n-1]&&T[n-1][a]&&"free"==T[n-1][a].n&&document.addEventListener("mousemove",j),T[n+1]&&T[n+1][a]&&"free"==T[n+1][a].n&&document.addEventListener("mousemove",j),T[n][a-1]&&"free"==T[n][a-1].n&&document.addEventListener("mousemove",j),T[n][a+1]&&"free"==T[n][a+1].n&&document.addEventListener("mousemove",j))}))}))}})),d.addEventListener("mouseup",(function(n){if(_){d.classList.remove("hovered"),document.removeEventListener("mousemove",j);var a=t(d,n),o=a.mouseX,i=a.mouseY;C&&(C=!1,R=!1,T.forEach((function(t,n){t.forEach((function(t,a){var r=e(I,a,n),s=r.xStart,c=r.yStart,u=r.xEnd,m=r.yEnd;if(o>s&&o<u&&i>c&&i<m){if(T[n-1]&&T[n-1][a]&&"free"==T[n-1][a].n){var d=0;!function e(){d+=.2,T[n][a].y=n-d,T[n][a].y<n-1?T[n][a].y=n-1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){T[n-1][a].n=t.n,T[n][a].n="free",T[n][a].y=n}),200),Q()}if(T[n+1]&&T[n+1][a]&&"free"==T[n+1][a].n){var l=0;!function e(){l+=.2,T[n][a].y=n+l,T[n][a].y>n+1?T[n][a].y=n+1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){T[n+1][a].n=t.n,T[n][a].n="free",T[n][a].y=n}),200),Q()}if(T[n][a-1]&&"free"==T[n][a-1].n){var f=0;!function e(){f+=.2,T[n][a].x=a-f,T[n][a].x<a-1?T[n][a].x=a-1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){T[n][a-1].n=t.n,T[n][a].n="free",T[n][a].x=a}),200),Q()}if(T[n][a+1]&&"free"==T[n][a+1].n){var v=0;!function e(){v+=.2,T[n][a].x=a+v,T[n][a].x>a+1?T[n][a].x=a+1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){T[n][a+1].n=t.n,T[n][a].n="free",T[n][a].x=a}),200),Q()}}}))}))),setTimeout((function(){return C=!0}),250),R&&T.forEach((function(t,n){t.forEach((function(t,a){var r=e(I,a,n),s=r.width,c=r.xStart,u=r.yStart,m=r.xEnd,d=r.yEnd;T[n-1]&&T[n-1][a]&&"free"==T[n-1][a].n&&P&&(o>c&&o<m&&i>u-s&&i<d?(T[n][a].y-(n-1)<.7&&(T[n-1][a].n=t.n,T[n][a].n="free",Q()),T[n][a].y=n):P&&(T[n][a].y=n)),T[n+1]&&T[n+1][a]&&"free"==T[n+1][a].n&&Y&&(o>c&&o<m&&i>u&&i<d+s?(n+1-T[n][a].y<.7&&(T[n+1][a].n=t.n,T[n][a].n="free",Q()),T[n][a].y=n):Y&&(T[n][a].y=n)),T[n][a-1]&&"free"==T[n][a-1].n&&X&&(o>c-s&&o<m&&i>u&&i<d?(T[n][a].x-(a-1)<.7&&(T[n][a-1].n=t.n,T[n][a].n="free",Q()),T[n][a].x=a):Y&&(T[n][a].x=a)),T[n][a+1]&&"free"==T[n][a+1].n&&J&&(o>c&&o<m+s&&i>u&&i<d?(a+1-T[n][a].x<.7&&(T[n][a+1].n=t.n,T[n][a].n="free",Q()),T[n][a].x=a):J&&(T[n][a].x=a))}))})),R=!0,P=!1,Y=!1,X=!1,J=!1,_&&(c=B,u=!0,T.forEach((function(e,t){e.forEach((function(e,n){e.n!==c[t][n].n&&(u=!1),e.x!==c[t][n].x&&(u=!1),e.y!==c[t][n].y&&(u=!1)}))})),u)&&(K(),function(e,t,n){var a=JSON.parse(localStorage.getItem("gameResults"))||r,o=-1;e>0&&t>0&&(o=n*n/(e*t));var i=new Date,s=i.getFullYear(),c="".concat(i.getMonth()+1).padStart(2,"0"),u="".concat(i.getDate()).padStart(2,"0"),m="".concat(i.getHours()).padStart(2,"0"),d="".concat(i.getMinutes()).padStart(2,"0"),l="".concat(i.getSeconds()).padStart(2,"0");a.push({date:u+"."+c+"."+s,time:m+":"+d+":"+l,size:n+"x"+n,moves:e,timer:t,balls:o}),a.sort((function(e,t){return t.balls-e.balls})),a=a.slice(0,10),localStorage.setItem("gameResults",JSON.stringify(a))}(k,z,I),s="Hooray! You solved the puzzle in ".concat(m.textContent," and ").concat(k," moves!"),document.querySelector(".modal-info__title").textContent=s,document.querySelector(".modal-info").classList.add("active"))}var s,c,u}))}()}();