!function(){var e={370:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}CanvasRenderingContext2D.prototype.roundRect=function(t,n,o,a,i,s,c){var r={upperLeft:0,upperRight:0,lowerLeft:0,lowerRight:0};if(void 0===c&&(c=!0),"object"===e(i))for(var u in i)r[u]=i[u];this.beginPath(),this.moveTo(t+r.upperLeft,n),this.lineTo(t+o-r.upperRight,n),this.quadraticCurveTo(t+o,n,t+o,n+r.upperRight),this.lineTo(t+o,n+a-r.lowerRight),this.quadraticCurveTo(t+o,n+a,t+o-r.lowerRight,n+a),this.lineTo(t+r.lowerLeft,n+a),this.quadraticCurveTo(t,n+a,t,n+a-r.lowerLeft),this.lineTo(t,n+r.upperLeft),this.quadraticCurveTo(t,n,t+r.upperLeft,n),this.closePath(),c&&this.stroke(),s&&this.fill()}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}!function(){"use strict";var e=function(e,t,n){var o=500/e-6,a=t*o+3+6*t,i=n*o+3+6*n;return{width:o,xStart:a,yStart:i,xEnd:t*o+3+6*t+o,yEnd:n*o+3+6*n+o,xText:a+o/2,yText:i+o/2}},t=function(e,t){var n=e.getBoundingClientRect(),o=500/document.getElementById("canvas").offsetWidth;return{mouseX:(t.clientX-n.left)*o,mouseY:(t.clientY-n.top)*o}},o=function(t,n,o,a){var i=e(n,o.x,o.y),s=i.width,c=i.xStart,r=i.yStart,u=i.xText,m=i.yText;t.lineWidth=2,t.strokeStyle="#df4f29",a&&(t.strokeStyle="#388f2c"),t.roundRect(c,r,s,s,{upperLeft:8,upperRight:8,lowerLeft:8,lowerRight:8}),t.font="40px serif",t.fillStyle="#df4f29",a&&(t.fillStyle="#388f2c"),t.textAlign="center",t.textBaseline="middle",t.fillText(o.n,u,m)},a=function(e){for(var t=[],n=e*e;t.length<n;){var o=Math.floor(Math.random()*n);0==o&&(o="free"),t.includes(o)||t.push(o)}return t},i=function(e){var t=e*e,n=new Array(t).fill(1).map((function(e,t){return e+t}));return n[t-1]="free",n},s=function(e,t){for(var n=t(e),o=[],a=0,i=0;i<e;i++){for(var s=[],c=0;c<e;c++)s.push({x:c,y:i,n:n[a]}),a+=1;o.push(s)}return o},c=[{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1}],r=function(e){var t="".concat(Math.floor(e/3600)).padStart(2,"0"),n="".concat(Math.floor(e%3600/60)).padStart(2,"0"),o="".concat(Math.floor(e%3600%60)).padStart(2,"0");return"".concat(t,":").concat(n,":").concat(o)},u=function(e,t,n,o,a,i){document.getElementById("gameSave").classList.add("active");var s={arr:e,exp:t,size:n,moves:o,timer:a,volume:i};localStorage.setItem("gameSave",JSON.stringify(s))},m=new Audio;n(370),function(){var e=document.createElement("header");e.className="header",document.getElementById("mainBody").append(e);var t=document.createElement("div");t.innerHTML='\n  <div class="score-top">\n  <span>Moves: </span>\n  <span id="gameScore">0</span>\n  <span>Time: </span>\n  <span id="gameTimer">00:00:00</span>\n  </div>\n  <div class="buttons-top">\n    <button id="gamePlay">Shuffle and play</button>\n    <button id="gamePause" class="active">Pause</button>\n    <button id="gameSave">Save</button>\n    <button id="gameResults">Results</button>\n    <button id="gameSound" class="active">Sound On</button>\n  </div>\n  ',document.getElementById("mainBody").append(t);var n=document.createElement("canvas");n.id="canvas",n.width="500",n.height="500",n.className="game-canvas",document.getElementById("mainBody").append(n);var o=document.createElement("div");o.className="buttons-bottom",o.innerHTML='\n    <button id="gameSize3">3x3</button>\n    <button id="gameSize4" class="active">4x4</button>\n    <button id="gameSize5">5x5</button>\n    <button id="gameSize6">6x6</button>\n    <button id="gameSize7">7x7</button>\n    <button id="gameSize8">8x8</button>\n  ',document.getElementById("mainBody").append(o);var a=document.createElement("div");a.className="modal modal-info",a.innerHTML='\n    <div class="modal__title modal-info__title"></div>\n    <button class="modal__button modal-info__button">Close</button>\n  ',document.getElementById("mainBody").append(a);var i=document.createElement("div");i.className="modal modal-results",i.innerHTML='\n    <div class="modal__title">Top 10 results</div>\n    <ul class="modal__table modal-result__table"></ul>\n    <button class="modal__button modal-results__button">Close</button>\n  ',document.getElementById("mainBody").append(i);var s=document.createElement("footer");s.className="footer",document.getElementById("mainBody").append(s)}(),document.querySelector(".modal-info__button").addEventListener("click",(function(){document.querySelector(".modal-info").classList.remove("active")})),document.querySelector(".modal-results__button").addEventListener("click",(function(){document.querySelector(".modal-results").classList.remove("active")}));var d=document.getElementById("gameTimer"),l=document.getElementById("canvas"),v=document.getElementById("gamePlay"),f=document.getElementById("gamePause"),y=document.getElementById("gameSave"),p=document.getElementById("gameResults"),g=document.getElementById("gameSize3"),S=document.getElementById("gameSize4"),b=document.getElementById("gameSize5"),E=document.getElementById("gameSize6"),L=document.getElementById("gameSize7"),x=document.getElementById("gameSize8"),h=document.getElementById("gameSound"),T=(m.src="./audio/sound.mp3",m.currentTime=0,m),B=[],I=[],z=4,_=0,q=0,w=!1,C=!0,R=!0,k=!1,M=1,N=0,O=0,H=!1,P=!1,Y=!1,J=!1;v.addEventListener("click",(function(){j(),W()})),f.addEventListener("click",(function(e){e.target.classList.contains("active")?W():G()})),y.addEventListener("click",(function(e){e.target.classList.contains("active")?(document.getElementById("gameSave").classList.remove("active"),localStorage.removeItem("gameSave"),k=!1):(u(B,I,z,_,q,M),k=!0)})),p.addEventListener("click",(function(){return e=JSON.parse(localStorage.getItem("gameResults"))||c,console.log(e),document.querySelector(".modal-results").classList.add("active"),void(document.querySelector(".modal-result__table").innerHTML="\n    <li>\n      <span>Date</span>\n      <span>Time</span>\n      <span>Size</span>\n      <span>Moves</span>\n      <span>Timer</span>\n    </li>\n    ".concat(e.map((function(e){return"number"==typeof e.timer&&(e.timer=r(e.timer)),"\n        <li>\n          <span>".concat(e.date,"</span>\n          <span>").concat(e.time,"</span>\n          <span>").concat(e.size,"</span>\n          <span>").concat(e.moves,"</span>\n          <span>").concat(e.timer,"</span>\n        </li>\n      ")})).join("")));var e})),g.addEventListener("click",(function(){B=s(z=3,a),I=s(z,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),g.classList.add("active"),F()})),S.addEventListener("click",(function(){B=s(z=4,a),I=s(z,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),S.classList.add("active"),F()})),b.addEventListener("click",(function(){B=s(z=5,a),I=s(z,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),b.classList.add("active"),F()})),E.addEventListener("click",(function(){B=s(z=6,a),I=s(z,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),E.classList.add("active"),F()})),L.addEventListener("click",(function(){B=s(z=7,a),I=s(z,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),L.classList.add("active"),F()})),x.addEventListener("click",(function(){B=s(z=8,a),I=s(z,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),x.classList.add("active"),F()})),h.addEventListener("click",(function(){h.classList.contains("active")?(h.textContent="Sound Off",h.classList.remove("active"),T.volume=0,M=0):(h.textContent="Sound On",h.classList.add("active"),T.volume=1,M=1)}));var X=JSON.parse(localStorage.getItem("gameSave"));X&&X.arr&&X.exp&&X.size&&X.moves>=0&&X.timer>=0&&X.volume>=0?(B=X.arr,I=X.exp,z=X.size,_=X.moves,q=X.timer,M=X.volume,d.textContent=r(q),y.classList.add("active"),document.querySelector(".buttons-bottom .active").classList.remove("active"),document.getElementById("gameSize".concat(z)).classList.add("active"),k=!0,0==M&&(h.textContent="Sound Off",h.classList.remove("active"))):(B=s(z,a),I=s(z,i));var A=l.getContext("2d");setInterval((function(){return window.requestAnimationFrame((function(){return A.clearRect(0,0,l.width,l.height),B.map((function(e,t){e.map((function(e,n){"free"!==e.n&&(B[t][n].n==I[t][n].n?o(A,z,e,!0):o(A,z,e))}))})),w&&(t=I,n=!0,B.forEach((function(e,o){e.forEach((function(e,a){e.n!==t[o][a].n&&(n=!1),e.x!==t[o][a].x&&(n=!1),e.y!==t[o][a].y&&(n=!1)}))})),n)&&(G(),function(e,t,n){var o=JSON.parse(localStorage.getItem("gameResults"))||c,a=-1;e>0&&t>0&&(a=n*n/(e*t));var i=new Date,s=i.getFullYear(),r="".concat(i.getMonth()+1).padStart(2,"0"),u="".concat(i.getDate()).padStart(2,"0"),m="".concat(i.getHours()).padStart(2,"0"),d="".concat(i.getMinutes()).padStart(2,"0"),l="".concat(i.getSeconds()).padStart(2,"0");o.push({date:u+"."+r+"."+s,time:m+":"+d+":"+l,size:n+"x"+n,moves:e,timer:t,balls:a}),o.sort((function(e,t){return t.balls-e.balls})),o=o.slice(0,10),localStorage.setItem("gameResults",JSON.stringify(o))}(_,q,z),e="Hooray! You solved the puzzle in ".concat(d.textContent," and ").concat(_," moves!"),document.querySelector(".modal-info__title").textContent=e,document.querySelector(".modal-info").classList.add("active"),j()),k&&u(B,I,z,_,q,M),void(document.getElementById("gameScore").textContent=_);var e,t,n}))}),20),setInterval((function(){w&&(q+=1,d.textContent=r(q))}),1e3);var D=function(n){C=!1;var o=t(l,n),a=o.mouseX,i=o.mouseY;B.forEach((function(t,n){t.forEach((function(t,o){var s=e(z,o,n),c=s.width,r=s.xStart,u=s.yStart,m=s.xEnd,d=s.yEnd;if(H||P||J||Y||(O-i>3?H=!0:i-O>3?P=!0:N-a>3?J=!0:a-N>3&&(Y=!0)),B[n-1]&&B[n-1][o]&&"free"==B[n-1][o].n&&H){if(a>r&&a<m&&i>u-c&&i<d){var v=(O-i)/c;v<0&&(v=0),v>1&&(v=1),B[n][o].y=n-v,l.classList.add("hovered")}(a<r||a>m||i<u-c||i>d)&&(B[n][o].y=n,Q())}if(B[n+1]&&B[n+1][o]&&"free"==B[n+1][o].n&&P){if(a>r&&a<m&&i>u&&i<d+c){var f=(i-O)/c;f>1&&(f=1),f<0&&(f=0),B[n][o].y=n+f,l.classList.add("hovered")}(a<r||a>m||i<u||i>d+c)&&(B[n][o].y=n,Q())}if(B[n][o-1]&&"free"==B[n][o-1].n&&J){if(a>r-c&&a<m&&i>u&&i<d){var y=(N-a)/c;y>1&&(y=1),y<0&&(y=0),B[n][o].x=o-y,l.classList.add("hovered")}(a<r-c||a>m||i<u||i>d)&&(B[n][o].x=o,Q())}if(B[n][o+1]&&"free"==B[n][o+1].n&&Y){if(a>r&&a<m+c&&i>u&&i<d){var p=(a-N)/c;p>.94&&(p=1),p<.06&&(p=0),B[n][o].x=o+p,l.classList.add("hovered")}(a<r||a>m+c||i<u||i>d)&&(B[n][o].x=o,Q())}}))}))};function j(){B=s(z,a),I=s(z,i),F()}function F(){w=!1,_=0,q=0,d.textContent="00:00:00",f.classList.add("active")}function W(){w=!0,f.classList.remove("active")}function G(){w=!1,v.classList.remove("active"),f.classList.add("active")}function K(){_+=1,W(),M&&T.play()}function Q(){l.classList.remove("hovered"),document.removeEventListener("mousemove",D)}l.addEventListener("mousedown",(function(n){var o=t(l,n),a=o.mouseX,i=o.mouseY;N=a,O=i,B.forEach((function(t,n){t.forEach((function(t,o){var s=e(z,o,n),c=s.xStart,r=s.yStart,u=s.xEnd,m=s.yEnd;a>c&&a<u&&i>r&&i<m&&(B[n-1]&&B[n-1][o]&&"free"==B[n-1][o].n&&document.addEventListener("mousemove",D),B[n+1]&&B[n+1][o]&&"free"==B[n+1][o].n&&document.addEventListener("mousemove",D),B[n][o-1]&&"free"==B[n][o-1].n&&document.addEventListener("mousemove",D),B[n][o+1]&&"free"==B[n][o+1].n&&document.addEventListener("mousemove",D))}))}))})),l.addEventListener("mouseup",(function(n){l.classList.remove("hovered"),document.removeEventListener("mousemove",D);var o=t(l,n),a=o.mouseX,i=o.mouseY;C&&(C=!1,R=!1,B.forEach((function(t,n){t.forEach((function(t,o){var s=e(z,o,n),c=s.xStart,r=s.yStart,u=s.xEnd,m=s.yEnd;if(a>c&&a<u&&i>r&&i<m){if(B[n-1]&&B[n-1][o]&&"free"==B[n-1][o].n){var d=0;!function e(){d+=.2,B[n][o].y=n-d,B[n][o].y<n-1?B[n][o].y=n-1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){B[n-1][o].n=t.n,B[n][o].n="free",B[n][o].y=n}),200),K()}if(B[n+1]&&B[n+1][o]&&"free"==B[n+1][o].n){var l=0;!function e(){l+=.2,B[n][o].y=n+l,B[n][o].y>n+1?B[n][o].y=n+1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){B[n+1][o].n=t.n,B[n][o].n="free",B[n][o].y=n}),200),K()}if(B[n][o-1]&&"free"==B[n][o-1].n){var v=0;!function e(){v+=.2,B[n][o].x=o-v,B[n][o].x<o-1?B[n][o].x=o-1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){B[n][o-1].n=t.n,B[n][o].n="free",B[n][o].x=o}),200),K()}if(B[n][o+1]&&"free"==B[n][o+1].n){var f=0;!function e(){f+=.2,B[n][o].x=o+f,B[n][o].x>o+1?B[n][o].x=o+1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){B[n][o+1].n=t.n,B[n][o].n="free",B[n][o].x=o}),200),K()}}}))}))),setTimeout((function(){return C=!0}),250),R&&B.forEach((function(t,n){t.forEach((function(t,o){var s=e(z,o,n),c=s.width,r=s.xStart,u=s.yStart,m=s.xEnd,d=s.yEnd;B[n-1]&&B[n-1][o]&&"free"==B[n-1][o].n&&H&&(a>r&&a<m&&i>u-c&&i<d?(B[n][o].y-(n-1)<.7&&(B[n-1][o].n=t.n,B[n][o].n="free",K()),B[n][o].y=n):H&&(B[n][o].y=n)),B[n+1]&&B[n+1][o]&&"free"==B[n+1][o].n&&P&&(a>r&&a<m&&i>u&&i<d+c?(n+1-B[n][o].y<.7&&(B[n+1][o].n=t.n,B[n][o].n="free",K()),B[n][o].y=n):P&&(B[n][o].y=n)),B[n][o-1]&&"free"==B[n][o-1].n&&J&&(a>r-c&&a<m&&i>u&&i<d?(B[n][o].x-(o-1)<.7&&(B[n][o-1].n=t.n,B[n][o].n="free",K()),B[n][o].x=o):P&&(B[n][o].x=o)),B[n][o+1]&&"free"==B[n][o+1].n&&Y&&(a>r&&a<m+c&&i>u&&i<d?(o+1-B[n][o].x<.7&&(B[n][o+1].n=t.n,B[n][o].n="free",K()),B[n][o].x=o):Y&&(B[n][o].x=o))}))})),R=!0,H=!1,P=!1,J=!1,Y=!1}))}()}();