!function(){var e={370:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}CanvasRenderingContext2D.prototype.roundRect=function(t,n,o,a,i,c,s){var r={upperLeft:0,upperRight:0,lowerLeft:0,lowerRight:0};if(void 0===s&&(s=!0),"object"===e(i))for(var u in i)r[u]=i[u];this.beginPath(),this.moveTo(t+r.upperLeft,n),this.lineTo(t+o-r.upperRight,n),this.quadraticCurveTo(t+o,n,t+o,n+r.upperRight),this.lineTo(t+o,n+a-r.lowerRight),this.quadraticCurveTo(t+o,n+a,t+o-r.lowerRight,n+a),this.lineTo(t+r.lowerLeft,n+a),this.quadraticCurveTo(t,n+a,t,n+a-r.lowerLeft),this.lineTo(t,n+r.upperLeft),this.quadraticCurveTo(t,n,t+r.upperLeft,n),this.closePath(),s&&this.stroke(),c&&this.fill()}}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}!function(){"use strict";var e=function(e,t,n){var o=500/e-6,a=t*o+3+6*t,i=n*o+3+6*n;return{width:o,xStart:a,yStart:i,xEnd:t*o+3+6*t+o,yEnd:n*o+3+6*n+o,xText:a+o/2,yText:i+o/2}},t=function(e,t){var n=e.getBoundingClientRect(),o=500/document.getElementById("canvas").offsetWidth;return{mouseX:(t.clientX-n.left)*o,mouseY:(t.clientY-n.top)*o}},o=function(t,n,o,a){var i=e(n,o.x,o.y),c=i.width,s=i.xStart,r=i.yStart,u=i.xText,l=i.yText;t.lineWidth=2,t.strokeStyle="#df4f29",a&&(t.strokeStyle="#388f2c"),t.roundRect(s,r,c,c,{upperLeft:8,upperRight:8,lowerLeft:8,lowerRight:8}),t.font="40px serif",t.fillStyle="#df4f29",a&&(t.fillStyle="#388f2c"),t.textAlign="center",t.textBaseline="middle",t.fillText(o.n,u,l)},a=function(e){for(var t=[],n=e*e;t.length<n;){var o=Math.floor(Math.random()*n);0==o&&(o="free"),t.includes(o)||t.push(o)}return t},i=function(e){var t=e*e,n=new Array(t).fill(1).map((function(e,t){return e+t}));return n[t-1]="free",n},c=function(e,t){for(var n=t(e),o=[],a=0,i=0;i<e;i++){for(var c=[],s=0;s<e;s++)c.push({x:s,y:i,n:n[a]}),a+=1;o.push(c)}return o},s=[{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1},{date:"--.--.----",time:"--:--",size:"---",moves:"---",timer:"--:--:--",balls:-1}],r=function(e){var t="".concat(Math.floor(e/3600)).padStart(2,"0"),n="".concat(Math.floor(e%3600/60)).padStart(2,"0"),o="".concat(Math.floor(e%3600%60)).padStart(2,"0");return"".concat(t,":").concat(n,":").concat(o)},u=function(e,t,n,o,a,i){document.getElementById("gameSave").classList.add("active");var c={arr:e,exp:t,size:n,moves:o,timer:a,volume:i};localStorage.setItem("gameSave",JSON.stringify(c))},l=new Audio;n(370),function(){var e=document.createElement("header");e.className="header",document.getElementById("mainBody").append(e);var t=document.createElement("div");t.innerHTML='\n  <div class="score-top">\n  <span>Moves: </span>\n  <span id="gameScore">0</span>\n  <span>Time: </span>\n  <span id="gameTimer">00:00:00</span>\n  </div>\n  <div class="buttons-top">\n    <button id="gamePlay">Shuffle and play</button>\n    <button id="gamePause" class="active">Pause</button>\n    <button id="gameSave">Save</button>\n    <button id="gameResults">Results</button>\n    <button id="gameSound" class="active">Sound On</button>\n  </div>\n  ',document.getElementById("mainBody").append(t);var n=document.createElement("canvas");n.id="canvas",n.width="500",n.height="500",n.className="game-canvas",document.getElementById("mainBody").append(n);var o=document.createElement("div");o.className="buttons-bottom",o.innerHTML='\n    <button id="gameSize3">3x3</button>\n    <button id="gameSize4" class="active">4x4</button>\n    <button id="gameSize5">5x5</button>\n    <button id="gameSize6">6x6</button>\n    <button id="gameSize7">7x7</button>\n    <button id="gameSize8">8x8</button>\n  ',document.getElementById("mainBody").append(o);var a=document.createElement("div");a.className="modal modal-info",a.innerHTML='\n    <div class="modal__title modal-info__title"></div>\n    <button class="modal__button modal-info__button">Close</button>\n  ',document.getElementById("mainBody").append(a);var i=document.createElement("div");i.className="modal modal-results",i.innerHTML='\n    <div class="modal__title">Top 10 results</div>\n    <ul class="modal__table modal-result__table"></ul>\n    <button class="modal__button modal-results__button">Close</button>\n  ',document.getElementById("mainBody").append(i);var c=document.createElement("footer");c.className="footer",document.getElementById("mainBody").append(c)}(),document.querySelector(".modal-info__button").addEventListener("click",(function(){document.querySelector(".modal-info").classList.remove("active")})),document.querySelector(".modal-results__button").addEventListener("click",(function(){document.querySelector(".modal-results").classList.remove("active")}));var m=document.getElementById("gameTimer"),d=document.getElementById("canvas"),v=document.getElementById("gamePlay"),f=document.getElementById("gamePause"),g=document.getElementById("gameSave"),y=document.getElementById("gameResults"),p=document.getElementById("gameSize3"),E=document.getElementById("gameSize4"),S=document.getElementById("gameSize5"),b=document.getElementById("gameSize6"),L=document.getElementById("gameSize7"),x=document.getElementById("gameSize8"),h=document.getElementById("gameSound"),T=(l.src="./audio/sound.mp3",l.currentTime=0,l),I=[],B=[],M=4,O=0,z=0,C=!1,_=!0,R=!0,q=!1,w=1,k=0,N=0,U=!1,P=!1,V=!1,H=!1;v.addEventListener("click",(function(){W(),J()})),f.addEventListener("click",(function(e){e.target.classList.contains("active")?J():X()})),g.addEventListener("click",(function(e){e.target.classList.contains("active")?(document.getElementById("gameSave").classList.remove("active"),localStorage.removeItem("gameSave"),q=!1):(u(I,B,M,O,z,w),q=!0)})),y.addEventListener("click",(function(){return e=JSON.parse(localStorage.getItem("gameResults"))||s,console.log(e),document.querySelector(".modal-results").classList.add("active"),void(document.querySelector(".modal-result__table").innerHTML="\n    <li>\n      <span>Date</span>\n      <span>Time</span>\n      <span>Size</span>\n      <span>Moves</span>\n      <span>Timer</span>\n    </li>\n    ".concat(e.map((function(e){return"number"==typeof e.timer&&(e.timer=r(e.timer)),"\n        <li>\n          <span>".concat(e.date,"</span>\n          <span>").concat(e.time,"</span>\n          <span>").concat(e.size,"</span>\n          <span>").concat(e.moves,"</span>\n          <span>").concat(e.timer,"</span>\n        </li>\n      ")})).join("")));var e})),p.addEventListener("click",(function(){I=c(M=3,a),B=c(M,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),p.classList.add("active"),F()})),E.addEventListener("click",(function(){I=c(M=4,a),B=c(M,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),E.classList.add("active"),F()})),S.addEventListener("click",(function(){I=c(M=5,a),B=c(M,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),S.classList.add("active"),F()})),b.addEventListener("click",(function(){I=c(M=6,a),B=c(M,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),b.classList.add("active"),F()})),L.addEventListener("click",(function(){I=c(M=7,a),B=c(M,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),L.classList.add("active"),F()})),x.addEventListener("click",(function(){I=c(M=8,a),B=c(M,i),document.querySelector(".buttons-bottom .active").classList.remove("active"),x.classList.add("active"),F()})),h.addEventListener("click",(function(){h.classList.contains("active")?(h.textContent="Sound Off",h.classList.remove("active"),T.volume=0,w=0):(h.textContent="Sound On",h.classList.add("active"),T.volume=1,w=1)}));var D=JSON.parse(localStorage.getItem("gameSave"));console.log("savedData",D),D&&D.arr&&D.exp&&D.size&&D.moves>=0&&D.timer>=0&&D.volume>=0?(I=D.arr,B=D.exp,M=D.size,O=D.moves,z=D.timer,w=D.volume,m.textContent=r(z),g.classList.add("active"),document.querySelector(".buttons-bottom .active").classList.remove("active"),document.getElementById("gameSize".concat(M)).classList.add("active"),q=!0,0==w&&(h.textContent="Sound Off",h.classList.remove("active")),console.log("GET SAVED SET")):(I=c(M,a),B=c(M,i),console.log("CREATE NEW SET"));var Y=d.getContext("2d");setInterval((function(){return window.requestAnimationFrame((function(){return Y.clearRect(0,0,d.width,d.height),I.map((function(e,t){e.map((function(e,n){"free"!==e.n&&(I[t][n].n==B[t][n].n?o(Y,M,e,!0):o(Y,M,e))}))})),C&&(t=B,n=!0,I.forEach((function(e,o){e.forEach((function(e,a){e.n!==t[o][a].n&&(n=!1),e.x!==t[o][a].x&&(n=!1),e.y!==t[o][a].y&&(n=!1)}))})),n)&&(X(),function(e,t,n){var o=JSON.parse(localStorage.getItem("gameResults"))||s,a=-1;e>0&&t>0&&(a=n*n/(e*t));var i=new Date,c=i.getFullYear(),r="".concat(i.getMonth()+1).padStart(2,"0"),u="".concat(i.getDate()).padStart(2,"0"),l="".concat(i.getHours()).padStart(2,"0"),m="".concat(i.getMinutes()).padStart(2,"0"),d="".concat(i.getSeconds()).padStart(2,"0");o.push({date:u+"."+r+"."+c,time:l+":"+m+":"+d,size:n+"x"+n,moves:e,timer:t,balls:a}),o.sort((function(e,t){return t.balls-e.balls})),o=o.slice(0,10),localStorage.setItem("gameResults",JSON.stringify(o))}(O,z,M),e="Hooray! You solved the puzzle in ".concat(m.textContent," and ").concat(O," moves!"),document.querySelector(".modal-info__title").textContent=e,document.querySelector(".modal-info").classList.add("active"),W()),q&&u(I,B,M,O,z,w),void(document.getElementById("gameScore").textContent=O);var e,t,n}))}),20),setInterval((function(){C&&(z+=1,m.textContent=r(z))}),1e3);var A=function(n){_=!1;var o=t(d,n),a=o.mouseX,i=o.mouseY;I.forEach((function(t,n){t.forEach((function(t,o){var c=e(M,o,n),s=c.width,r=c.xStart,u=c.yStart,l=c.xEnd,m=c.yEnd;if(U||P||H||V||(N-i>5?U=!0:i-N>5?P=!0:k-a>5?H=!0:a-k>5&&(V=!0)),I[n-1]&&I[n-1][o]&&"free"==I[n-1][o].n&&U&&a>r&&a<l&&i>u-s&&i<m){var d=N-i;if(d>5){var v=d/s;v>.94&&(v=1),v<.06&&(v=0),I[n][o].y=n-v,console.log("MOUSEMOVE UP",I[n][o].y-(n-1))}}if(I[n+1]&&I[n+1][o]&&"free"==I[n+1][o].n&&P&&a>r&&a<l&&i>u&&i<m+s){var f=i-N;if(f>5){var g=f/s;g>.94&&(g=1),g<.06&&(g=0),I[n][o].y=n+g,console.log("MOUSEMOVE DOWN",n+1-I[n][o].y)}}if(I[n][o-1]&&"free"==I[n][o-1].n&&H&&a>r-s&&a<l&&i>u&&i<m){var y=k-a;if(y>5){var p=y/s;p>.94&&(p=1),p<.06&&(p=0),I[n][o].x=o-p,console.log("MOUSEMOVE LEFT",I[n][o].x-(o-1))}}if(I[n][o+1]&&"free"==I[n][o+1].n&&V&&a>r&&a<l+s&&i>u&&i<m){var E=a-k;if(E>5){var S=E/s;S>.94&&(S=1),S<.06&&(S=0),I[n][o].x=o+S,console.log("MOUSEMOVE RIGHT",o+1-I[n][o].x)}}}))}))};function W(){I=c(M,a),B=c(M,i),F()}function F(){C=!1,O=0,z=0,m.textContent="00:00:00",f.classList.add("active")}function J(){C=!0,f.classList.remove("active")}function X(){C=!1,v.classList.remove("active"),f.classList.add("active")}function G(){O+=1,J(),w&&T.play()}d.addEventListener("mousedown",(function(n){d.classList.add("hovered");var o=t(d,n),a=o.mouseX,i=o.mouseY;k=a,N=i,I.forEach((function(t,n){t.forEach((function(t,o){var c=e(M,o,n),s=c.xStart,r=c.yStart,u=c.xEnd,l=c.yEnd;a>s&&a<u&&i>r&&i<l&&(I[n-1]&&I[n-1][o]&&"free"==I[n-1][o].n&&document.addEventListener("mousemove",A),I[n+1]&&I[n+1][o]&&"free"==I[n+1][o].n&&document.addEventListener("mousemove",A),I[n][o-1]&&"free"==I[n][o-1].n&&document.addEventListener("mousemove",A),I[n][o+1]&&"free"==I[n][o+1].n&&document.addEventListener("mousemove",A))}))}))})),d.addEventListener("mouseup",(function(n){d.classList.remove("hovered"),document.removeEventListener("mousemove",A);var o=t(d,n),a=o.mouseX,i=o.mouseY;_&&(_=!1,R=!1,I.forEach((function(t,n){t.forEach((function(t,o){var c=e(M,o,n),s=c.xStart,r=c.yStart,u=c.xEnd,l=c.yEnd;if(a>s&&a<u&&i>r&&i<l){if(I[n-1]&&I[n-1][o]&&"free"==I[n-1][o].n){var m=0;!function e(){m+=.2,I[n][o].y=n-m,I[n][o].y<n-1?I[n][o].y=n-1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){I[n-1][o].n=t.n,I[n][o].n="free",I[n][o].y=n}),200),G(),console.log("CLICK MOVE UP")}if(I[n+1]&&I[n+1][o]&&"free"==I[n+1][o].n){var d=0;!function e(){d+=.2,I[n][o].y=n+d,I[n][o].y>n+1?I[n][o].y=n+1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){I[n+1][o].n=t.n,I[n][o].n="free",I[n][o].y=n}),200),G(),console.log("CLICK MOVE DOWN")}if(I[n][o-1]&&"free"==I[n][o-1].n){var v=0;!function e(){v+=.2,I[n][o].x=o-v,I[n][o].x<o-1?I[n][o].x=o-1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){I[n][o-1].n=t.n,I[n][o].n="free",I[n][o].x=o}),200),G(),console.log("CLICK MOVE LEFT")}if(I[n][o+1]&&"free"==I[n][o+1].n){var f=0;!function e(){f+=.2,I[n][o].x=o+f,I[n][o].x>o+1?I[n][o].x=o+1:setTimeout((function(){return e()}),18)}(),setTimeout((function(){I[n][o+1].n=t.n,I[n][o].n="free",I[n][o].x=o}),200),G(),console.log("CLICK MOVE RIGHT")}}}))}))),setTimeout((function(){return _=!0}),250),R&&I.forEach((function(t,n){t.forEach((function(t,o){var c=e(M,o,n),s=c.width,r=c.xStart,u=c.yStart,l=c.xEnd,m=c.yEnd;I[n-1]&&I[n-1][o]&&"free"==I[n-1][o].n&&U&&a>r&&a<l&&i>u-s&&i<m&&(I[n][o].y-(n-1)<.7&&(I[n-1][o].n=t.n,I[n][o].n="free",G()),I[n][o].y=n,console.log("MOUSEUP MOVE UP")),I[n+1]&&I[n+1][o]&&"free"==I[n+1][o].n&&P&&a>r&&a<l&&i>u&&i<m+s&&(n+1-I[n][o].y<.7&&(I[n+1][o].n=t.n,I[n][o].n="free",G()),I[n][o].y=n,console.log("MOUSEUP MOVE DOWN")),I[n][o-1]&&"free"==I[n][o-1].n&&H&&a>r-s&&a<l&&i>u&&i<m&&(I[n][o].x-(o-1)<.7&&(I[n][o-1].n=t.n,I[n][o].n="free",G()),I[n][o].x=o,console.log("MOUSEUP MOVE LEFT",I[n][o].x)),I[n][o+1]&&"free"==I[n][o+1].n&&V&&a>r&&a<l+s&&i>u&&i<m&&(o+1-I[n][o].x<.7&&(I[n][o+1].n=t.n,I[n][o].n="free",G()),I[n][o].x=o,console.log("MOUSEUP MOVE RIGHT",I[n][o].x))}))})),R=!0,U=!1,P=!1,H=!1,V=!1}))}()}();